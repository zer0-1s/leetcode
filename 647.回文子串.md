```C
/*暴力两层循环*/
int reverseTojudge(char *s,int begin,int end){
        // 正逆序结合
        int count = 0 ;
        int mid = (end - begin + 1)/2; 
    	// 正序和逆序同时比对
        while(begin < end)
            if(s[begin++]==s[end--])
                count++;
            else
                break; 
    	// 判断条件不能使用begin，end这种同时变化的变量 
        if(count == mid ||  mid == 0)
        return 1;
        else
        return 0;
}
int countSubstrings(char * s){
    int temp = 0;
    for(int i = 0;i < strlen(s);i++)
        for(int j = i;j < strlen(s);j++)
        {
            if(s[i] == s[j])
                if(reverseTojudge(s,i,j))
                    temp++;

        }
        return temp;
}

```
> 调试代码参考

```C
#include"stdio.h"  /*printf*/
#include"string.h" /*strlen*/
int reverseTojudge(char *s,int begin,int end){
        // 正逆序结合
        int count = 0 ;
        int mid = (end - begin + 1)/2; 
        while(begin < end)
            if(s[begin++]==s[end--])
                count++;
            else
                break; 
            
        if(count == mid || mid == 0)
        return 1;
        else
        return 0;
}
void showSubstring(char *s,int begin,int end){
    
    for(int i = begin;i < end+1;i++)
        printf("%c",s[i]);
    printf("\n");
}
int countSubstrings(char * s){
    int temp = 0;
    for(int i = 0;i < strlen(s);i++)
        for(int j = i;j < strlen(s);j++)
        {
            if(s[i] == s[j])
                if(reverseTojudge(s,i,j))
                    {showSubstring(s,i,j);
                    temp++;
                    }
        }
        return temp;
}

int main(){
    char *s = "longtimenosee";
    int count = countSubstrings(s);
    printf("%d",count);
}
```


